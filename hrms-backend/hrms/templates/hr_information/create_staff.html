{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>KATH HRM - Create New Staff Record</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

	<style>
		:root {
			--kath-red: #C8102E;
			--kath-dark-red: #A00D24;
		}

		body {
			background: linear-gradient(135deg, #f8f9fa, #e9ecef);
			min-height: 100vh;
		}

		.bg-kath-red { background-color: var(--kath-red) !important; }
		.text-kath-red { color: var(--kath-red) !important; }

		.profile-card {
			border: none;
			box-shadow: 0 10px 25px rgba(0,0,0,0.08);
			border-radius: 0.75rem;
		}

		.section-header {
			background-color: var(--kath-red);
			color: white;
			padding: 1rem;
			border-radius: 0.75rem 0.75rem 0 0;
			font-weight: 600;
			font-size: 1.1rem;
			margin-bottom: 1.5rem;
		}

		.form-section {
			margin-bottom: 2rem;
		}

		.form-label {
			font-weight: 600;
			color: #495057;
			margin-bottom: 0.5rem;
		}

		.form-control:focus,
		.form-select:focus {
			border-color: var(--kath-red);
			box-shadow: 0 0 0 0.2rem rgba(200, 16, 46, 0.25);
		}

		.btn-kath-red {
			background-color: var(--kath-red);
			border-color: var(--kath-red);
			color: white;
		}

		.btn-kath-red:hover {
			background-color: var(--kath-dark-red);
			border-color: var(--kath-dark-red);
			color: white;
		}

		.breadcrumb-section {
			background-color: white;
			padding: 1rem;
			border-radius: 0.5rem;
			margin-bottom: 2rem;
			box-shadow: 0 2px 8px rgba(0,0,0,0.05);
		}

		.tab-content {
			background-color: white;
			border: 1px solid #dee2e6;
			border-top: none;
			padding: 2rem;
			border-radius: 0 0 0.75rem 0.75rem;
		}

		.nav-tabs {
			border-bottom: 2px solid #dee2e6;
		}

		.nav-tabs .nav-link {
			color: #495057;
			border: none;
			border-bottom: 3px solid transparent;
			font-weight: 500;
		}

		.nav-tabs .nav-link.active {
			color: var(--kath-red);
			border-color: var(--kath-red);
			background-color: transparent;
		}

		.alert-dismissible .btn-close {
			padding: 0.5rem;
		}

		.required-fields {
			font-size: 0.9rem;
			color: #6c757d;
			margin-bottom: 1rem;
		}
	</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg bg-kath-red shadow-sm sticky-top">
	<div class="container-fluid px-4">
		<a class="navbar-brand d-flex align-items-center gap-2 text-white" href="{% url 'dashboard' %}">
			<img src="{% static 'img/kath-logo.png' %}" alt="KATH Logo" style="height:32px; filter:brightness(0) invert(1);">
			<span class="fw-bold">KATH HRM</span>
		</a>

		<button class="navbar-toggler border-0" data-bs-toggle="collapse" data-bs-target="#navbarNav">
			<i class="fas fa-bars text-white"></i>
		</button>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav ms-auto align-items-lg-center gap-2">
				<li class="nav-item">
					<a class="nav-link text-white active">
						<i class="fas fa-user-plus me-1"></i> Create Staff Record
					</a>
				</li>
			</ul>
		</div>
	</div>
</nav>

<!-- MAIN CONTENT -->
<div class="container-fluid p-4">
	<div class="container">

		<!-- PAGE HEADER -->
		<div class="breadcrumb-section">
			<div class="d-flex justify-content-between align-items-center">
				<div>
					<h2 class="mb-2">Create New Staff Record</h2>
					<p class="text-muted mb-0">
						<i class="fas fa-plus-circle me-2"></i>
						Add a new employee to the system
					</p>
				</div>
				<a class="btn btn-outline-secondary" href="{% url 'staff_list' %}">
					<i class="fas fa-times me-2"></i>Cancel
				</a>
			</div>
		</div>

		<!-- FORM START -->
		<form method="POST" class="profile-card">
			{% csrf_token %}

			<!-- Success/Error Messages -->
			{% if messages %}
				{% for message in messages %}
					<div class="alert alert-{{ message.tags }} alert-dismissible fade show m-3" role="alert">
						{{ message }}
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				{% endfor %}
			{% endif %}

			<!-- REQUIRED FIELDS NOTICE -->
			<div class="alert alert-info m-3" role="alert">
				<i class="fas fa-info-circle me-2"></i>
				<strong>Required Fields:</strong> Fields marked with <span class="text-danger">*</span> must be filled in.
			</div>

			<!-- TABS NAVIGATION -->
			<ul class="nav nav-tabs px-3 pt-3" role="tablist">
				<li class="nav-item" role="presentation">
					<button class="nav-link active" id="identity-tab" data-bs-toggle="tab" data-bs-target="#identity" type="button" role="tab">
						<i class="fas fa-id-card me-2"></i>Identity & Personal
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="employment-tab" data-bs-toggle="tab" data-bs-target="#employment" type="button" role="tab">
						<i class="fas fa-briefcase me-2"></i>Employment Details
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="appointment-tab" data-bs-toggle="tab" data-bs-target="#appointment" type="button" role="tab">
						<i class="fas fa-file-alt me-2"></i>Appointment & Grade
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="qualifications-tab" data-bs-toggle="tab" data-bs-target="#qualifications" type="button" role="tab">
						<i class="fas fa-graduation-cap me-2"></i>Qualifications
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="payroll-tab" data-bs-toggle="tab" data-bs-target="#payroll" type="button" role="tab">
						<i class="fas fa-money-bill me-2"></i>Bank & Payroll
					</button>
				</li>
			</ul>

			<!-- TAB CONTENT -->
			<div class="tab-content">

				<!-- SECTION 1: IDENTITY & PERSONAL INFORMATION -->
				<div class="tab-pane fade show active" id="identity" role="tabpanel">
					<h5 class="section-header"><i class="fas fa-id-card me-2"></i>Identity & Personal Information</h5>
					
					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Employee ID</label>
							<input type="text" class="form-control" name="employee_id" placeholder="e.g., EMP001">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">KATH Staff Number</label>
							<input type="text" class="form-control" name="kath_staff_number" placeholder="e.g., KATH-2024-001">
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Ghana Card Number</label>
							<input type="text" class="form-control" name="ghana_card_number" placeholder="GHS-XXXXXXXXX-X">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">SSNIT Number</label>
							<input type="text" class="form-control" name="ssnit_number" placeholder="SSNIT-XXXXXXXXX">
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 mb-3">
							<label class="form-label">Surname <span class="text-danger">*</span></label>
							<input type="text" class="form-control" name="surname" placeholder="Enter surname" required>
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">First Name <span class="text-danger">*</span></label>
							<input type="text" class="form-control" name="first_name" placeholder="Enter first name" required>
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Other Names</label>
							<input type="text" class="form-control" name="other_names" placeholder="Other names (optional)">
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 mb-3">
							<label class="form-label">Sex</label>
							<select class="form-select" name="sex">
								<option value="">Select...</option>
								{% for sex in sex_choices %}
									<option value="{{ sex }}">{{ sex }}</option>
								{% endfor %}
							</select>
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Date of Birth</label>
							<input type="date" class="form-control" name="date_of_birth">
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Nationality</label>
							<select class="form-select" name="nationality">
								<option value="">Select...</option>
								{% for nationality in nationalities %}
									<option value="{{ nationality }}">{{ nationality }}</option>
								{% endfor %}
							</select>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Contact Number</label>
							<input type="tel" class="form-control" name="contact_number" placeholder="+233-XX-XXX-XXXX">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Email</label>
							<input type="email" class="form-control" name="email" placeholder="email@example.com">
						</div>
					</div>
				</div>

				<!-- SECTION 2: EMPLOYMENT DETAILS -->
				<div class="tab-pane fade" id="employment" role="tabpanel">
					<h5 class="section-header"><i class="fas fa-briefcase me-2"></i>Employment & Placement</h5>
					
					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Category of Profession</label>
							<input type="text" class="form-control" name="category_of_profession" placeholder="e.g., Medical, Administrative">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Profession</label>
							<input type="text" class="form-control" name="profession" placeholder="e.g., Doctor, Nurse">
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Profession Status</label>
							<select class="form-select" name="profession_status">
								<option value="">Select...</option>
								{% for prof in professions %}
									<option value="{{ prof }}">{{ prof }}</option>
								{% endfor %}
							</select>
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Work Status</label>
							<select class="form-select" name="work_status">
								<option value="">Select...</option>
								{% for status in work_statuses %}
									<option value="{{ status }}">{{ status }}</option>
								{% endfor %}
							</select>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Directorate</label>
							<select class="form-select" name="directorate">
								<option value="">Select...</option>
								{% for directorate in directorates %}
									<option value="{{ directorate }}">{{ directorate }}</option>
								{% endfor %}
							</select>
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Unit</label>
							<input type="text" class="form-control" name="unit" placeholder="Department/Unit">
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Payroll Status</label>
							<input type="text" class="form-control" name="payroll_status" placeholder="e.g., Active">
						</div>
						<div class="col-md-6 mb-3">
							<div class="form-check mt-4">
								<input class="form-check-input" type="checkbox" name="at_post_of_duty" id="at_post_of_duty">
								<label class="form-check-label" for="at_post_of_duty">
									At Post of Duty
								</label>
							</div>
						</div>
					</div>
				</div>

				<!-- SECTION 3: APPOINTMENT, GRADE & BAND -->
				<div class="tab-pane fade" id="appointment" role="tabpanel">
					<h5 class="section-header"><i class="fas fa-file-alt me-2"></i>Appointment, Grade & Band</h5>
					
					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Grade on First Appointment</label>
							<input type="text" class="form-control" name="grade_on_first_appointment" placeholder="e.g., Grade 12">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Grade on Current Appointment</label>
							<input type="text" class="form-control" name="grade_on_current_appointment" placeholder="e.g., Grade 10">
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 mb-3">
							<label class="form-label">Year of Current Grade</label>
							<input type="number" class="form-control" name="year_of_current_grade" placeholder="e.g., 2024" min="1900" max="2099">
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Date of First Appointment</label>
							<input type="date" class="form-control" name="date_of_first_appointment">
						</div>
						<div class="col-md-4 mb-3">
							<label class="form-label">Date of Current Appointment</label>
							<input type="date" class="form-control" name="date_of_current_appointment">
						</div>
					</div>
				</div>

				<!-- SECTION 4: QUALIFICATIONS & COMPLIANCE -->
				<div class="tab-pane fade" id="qualifications" role="tabpanel">
					<h5 class="section-header"><i class="fas fa-graduation-cap me-2"></i>Qualifications & Compliance</h5>
					
					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Academic Qualification</label>
							<textarea class="form-control" name="academic_qualification" rows="3" placeholder="e.g., BSc. Computer Science, MSc. Information Systems"></textarea>
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Professional Qualification</label>
							<textarea class="form-control" name="professional_qualification" rows="3" placeholder="e.g., CISSP, CCNA, Professional License"></textarea>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">GoG/IGF Status</label>
							<input type="text" class="form-control" name="gog_igf_status" placeholder="Government/IGF Status">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Seniority Status</label>
							<input type="text" class="form-control" name="seniority_status" placeholder="e.g., Senior, Middle, Junior">
						</div>
					</div>
				</div>

				<!-- SECTION 5: BANK & PAYROLL DETAILS -->
				<div class="tab-pane fade" id="payroll" role="tabpanel">
					<h5 class="section-header"><i class="fas fa-money-bill me-2"></i>Bank & Payroll Details</h5>
					
					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Bank Name</label>
							<input type="text" class="form-control" name="bank_name" placeholder="e.g., Ghana Commercial Bank">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Bank Branch</label>
							<input type="text" class="form-control" name="bank_branch" placeholder="e.g., Accra Main Branch">
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Bank Account Number</label>
							<input type="text" class="form-control" name="bank_account_number" placeholder="Account number">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Salary Grouping</label>
							<input type="text" class="form-control" name="sal_grouping" placeholder="e.g., Group A, Group B">
						</div>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Job Category</label>
							<input type="text" class="form-control" name="job_category" placeholder="e.g., Medical, Support">
						</div>
						<div class="col-md-6 mb-3">
							<label class="form-label">Job Classification</label>
							<input type="text" class="form-control" name="job_classification" placeholder="e.g., Supervisory, Professional">
						</div>
					</div>
				</div>

			</div>

			<!-- FORM ACTIONS -->
			<div class="d-flex gap-2 justify-content-end p-3 border-top">
				<a href="{% url 'staff_list' %}" class="btn btn-outline-secondary">
					<i class="fas fa-times me-2"></i>Cancel
				</a>
				<button type="submit" class="btn btn-kath-red">
					<i class="fas fa-plus me-2"></i>Create Staff Record
				</button>
			</div>

		</form>

	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
